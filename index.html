<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EarnQuick Pro - Official</title>
    
    <script src='//libtl.com/sdk.js' data-zone='10603687' data-sdk='show_10603687'></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        :root { --primary: #00f2fe; --secondary: #4facfe; --bg: #0b0f19; --card: #161d2f; --text: #fff; --accent: #ff007a; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding-bottom: 80px; overflow-x: hidden; }
        
        /* Headline */
        .headline { background: rgba(255, 0, 122, 0.1); color: var(--accent); padding: 10px; font-size: 13px; font-weight: bold; overflow: hidden; white-space: nowrap; border-bottom: 1px solid var(--accent); }
        .headline span { display: inline-block; animation: scroll 15s linear infinite; }
        @keyframes scroll { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* Sections */
        .page { display: none; padding: 20px; animation: fadeIn 0.5s; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Profile Card */
        .profile-card { background: linear-gradient(135deg, var(--secondary), var(--primary)); padding: 30px; border-radius: 30px; text-align: center; margin-bottom: 25px; box-shadow: 0 10px 20px rgba(0, 242, 254, 0.2); }
        .user-img { width: 70px; height: 70px; border-radius: 50%; border: 3px solid #fff; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; background: var(--card); font-size: 25px; color: var(--primary); font-weight: bold; }

        /* Stats Grid */
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px; }
        .stat-box { background: var(--card); padding: 20px; border-radius: 20px; text-align: center; border: 1px solid rgba(255,255,255,0.05); }
        .stat-box b { display: block; font-size: 20px; color: var(--primary); }

        /* Menu Grid */
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .menu-item { background: var(--card); padding: 25px; border-radius: 25px; text-align: center; border-bottom: 4px solid var(--primary); }
        .menu-item i { font-size: 30px; margin-bottom: 10px; display: block; color: var(--primary); }

        /* Form Style */
        .form-group { margin-bottom: 15px; }
        input, select { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #333; background: #1f2937; color: #fff; box-sizing: border-box; }
        .btn-submit { background: var(--primary); color: #000; border: none; padding: 15px; width: 100%; border-radius: 10px; font-weight: bold; cursor: pointer; }

        /* Bottom Nav */
        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: var(--card); display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid #333; z-index: 1000; }
        .nav-item { color: #888; font-size: 22px; cursor: pointer; }
        .nav-item.active { color: var(--primary); }
    </style>
</head>
<body>

    <div class="headline"><span>üì¢ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá ‡ß®‡ß¶‡ß¶ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡ßá ‡ß´ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü! ‡¶®‡¶ø‡ßü‡¶Æ ‡¶Æ‡ßá‡¶®‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶≤‡ßá ‡ßß‡ß¶‡ß¶% ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§</span></div>

    <div id="home" class="page active">
        <div class="profile-card">
            <div id="u_pic" class="user-img">?</div>
            <h2 id="u_name" style="margin:0">Loading...</h2>
            <p style="font-size:12px; opacity:0.8">Verified Member ‚úîÔ∏è</p>
        </div>
        <div class="stats-grid">
            <div class="stat-box"><b>üí∞ <span id="bal">0.00</span></b><span>‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü</span></div>
            <div class="stat-box"><b>üë• <span id="ref">0</span></b><span>‡¶∞‡ßá‡¶´‡¶æ‡¶∞</span></div>
        </div>
        <div class="menu-grid">
            <div class="menu-item" onclick="watchAd()"><i class="fas fa-play-circle"></i><span>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</span></div>
            <div class="menu-item" onclick="copyRef()"><i class="fas fa-share-alt"></i><span>‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï</span></div>
        </div>
        <div id="ad-banner" style="margin-top:20px; text-align:center;"></div>
    </div>

    <div id="withdraw" class="page">
        <h3>üí∞ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶§‡ßÅ‡¶≤‡ßÅ‡¶®</h3>
        <div class="stat-box" style="margin-bottom:20px"><b><span id="bal2">0.00</span></b><span>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</span></div>
        <div class="form-group">
            <label>‡¶Æ‡ßá‡¶•‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</label>
            <select id="method">
                <option value="Bkash">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ (‡ß®‡ß¶‡ß¶‡ß¶ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü = ‡ß®‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ)</option>
                <option value="Nagad">‡¶®‡¶ó‡¶¶ (‡ß®‡ß¶‡ß¶‡ß¶ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü = ‡ß®‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ)</option>
                <option value="Recharge">‡¶∞‡¶ø‡¶ö‡¶æ‡¶∞‡ßç‡¶ú (‡ßß‡ß¶‡ß¶‡ß¶ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü = ‡ßß‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ)</option>
            </select>
        </div>
        <div class="form-group">
            <input type="number" id="phone" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®">
        </div>
        <div class="form-group">
            <input type="number" id="amount" placeholder="‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶¶‡¶ø‡¶®">
        </div>
        <button class="btn-submit" onclick="submitWithdraw()">‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
    </div>

    <div id="history" class="page">
        <h3>üìú ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø</h3>
        <div id="history-list">‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶¶‡¶ø‡¶®‡•§</div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="showPage('home', this)"><i class="fas fa-home"></i></div>
        <div class="nav-item" onclick="showPage('withdraw', this)"><i class="fas fa-wallet"></i></div>
        <div class="nav-item" onclick="showPage('history', this)"><i class="fas fa-history"></i></div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        const user = tg.initDataUnsafe.user;
        const BACKEND = "https://earnquick-backend.onrender.com";

        function showPage(pageId, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            el.classList.add('active');
            if(pageId === 'home') loadData();
        }

        function loadData() {
            if(!user) return;
            document.getElementById('u_name').innerText = user.first_name;
            document.getElementById('u_pic').innerText = user.first_name[0].toUpperCase();
            fetch(`${BACKEND}/data?user_id=${user.id}`).then(res => res.json()).then(data => {
                document.getElementById('bal').innerText = data.balance.toFixed(2);
                document.getElementById('bal2').innerText = data.balance.toFixed(2);
                document.getElementById('ref').innerText = data.refs;
            });
        }

        function watchAd() {
            if (typeof show_10603687 === 'function') {
                show_10603687().then(() => {
                    fetch(`${BACKEND}/postback?user_id=${user.id}`).then(() => {
                        tg.showAlert("‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡ß´ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ßá‡ßü‡ßá‡¶õ‡ßá‡¶®‡•§");
                        loadData();
                    });
                }).catch(() => tg.showAlert("‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§"));
            }
        }

        function submitWithdraw() {
            const method = document.getElementById('method').value;
            const phone = document.getElementById('phone').value;
            const amount = document.getElementById('amount').value;
            if(!phone || !amount) return tg.showAlert("‡¶∏‡¶¨‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ò‡¶∞ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®!");
            
            fetch(`${BACKEND}/withdraw`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({user_id: user.id, name: user.first_name, method, phone, amount})
            }).then(res => res.json()).then(data => {
                tg.showAlert(data.message);
                loadData();
            });
        }

        function copyRef() {
            const link = `https://t.me/EarnQuick_Official_bot?start=${user.id}`;
            navigator.clipboard.writeText(link).then(() => tg.showAlert("‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá!"));
        }

        // Monetag Banner
        const script = document.createElement('script');
        script.src = 'https://alwingulla.com/tag.min.js';
        script.setAttribute('data-zone', '10603687');
        document.getElementById('ad-banner').appendChild(script);

        tg.ready(); tg.expand(); loadData();
    </script>
</body>
</html>
