<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EarnQuick Pro</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script src="https://hathomeynapoleon.com/99/2d/d2/992dd2ea233a764ef41edc1fbe0657dd.js"></script>

    <style>
        :root {
            --primary: #00d2ff;
            --bg: #0b0f19;
            --card: rgba(255, 255, 255, 0.06);
            --bkash: #e2136e;
            --nagad: #f7941d;
            --rocket: #8c3494;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: var(--bg);
            color: #fff;
            margin: 0;
            padding-bottom: 120px;
        }

        .header { padding: 30px 20px; text-align: center; }
        .user-pic { width: 75px; height: 75px; border-radius: 50%; border: 3px solid var(--primary); display: flex; align-items: center; justify-content: center; font-size: 30px; margin: 0 auto 10px; background: rgba(0, 210, 255, 0.1); }

        .balance-card {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            margin: 0 20px 20px;
            padding: 20px;
            border-radius: 20px;
            display: flex;
            justify-content: space-around;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .balance-card b { font-size: 24px; color: var(--primary); display: block; }

        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 0 20px; }
        .btn {
            background: var(--card);
            padding: 20px 10px;
            border-radius: 18px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.05);
            cursor: pointer;
        }

        .btn i { font-size: 28px; margin-bottom: 8px; display: block; }
        
        /* পেমেন্ট মেথড কালার */
        .bkash { border-bottom: 4px solid var(--bkash); }
        .nagad { border-bottom: 4px solid var(--nagad); }
        .rocket { border-bottom: 4px solid var(--rocket); }

        /* ব্যানার অ্যাড সেটআপ */
        .ad-footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: rgba(0,0,0,0.9);
            padding: 10px 0;
            text-align: center;
            z-index: 9999;
        }
        /* ব্যানারকে মোবাইলে ফিট করা */
        .ad-footer iframe { max-width: 100% !important; height: auto !important; transform: scale(0.9); }
    </style>
</head>
<body>

<div style="background: var(--primary); color: #000; padding: 8px; font-weight: bold;">
    <marquee>১০০% পেমেন্ট গ্যারান্টি! বিকাশ, নগদ ও রকেটে টাকা নিন। রেফার করে আয় বাড়ান।</marquee>
</div>

<div class="header">
    <div id="u_pic" class="user-pic">?</div>
    <div id="u_name" style="font-weight: bold; font-size: 18px;">Loading...</div>
</div>

<div class="balance-card">
    <div><span>ব্যালেন্স</span><b id="bal">0.00</b></div>
    <div><span>রেফার</span><b id="ref">0</b></div>
</div>

<div class="menu-grid">
    <div class="btn" onclick="showAd()" style="border-bottom: 4px solid #ff4b2b;">
        <i class="fas fa-play-circle" style="color: #ff4b2b;"></i>
        <span>অ্যাড দেখুন</span>
    </div>
    <div class="btn bkash" onclick="tg.showAlert('বিকাশ নম্বর দিন')">
        <i class="fas fa-wallet" style="color: var(--bkash);"></i>
        <span>বিকাশ</span>
    </div>
    <div class="btn nagad" onclick="tg.showAlert('নগদ নম্বর দিন')">
        <i class="fas fa-money-bill-wave" style="color: var(--nagad);"></i>
        <span>নগদ</span>
    </div>
    <div class="btn rocket" onclick="tg.showAlert('রকেট নম্বর দিন')">
        <i class="fas fa-mobile-alt" style="color: var(--rocket);"></i>
        <span>রকেট</span>
    </div>
</div>

<div class="ad-footer">
    <script type="text/javascript">
        atOptions = { 'key' : '36047257ef54bf70facf3cdb98c2c150', 'format' : 'iframe', 'height' : 90, 'width' : 728, 'params' : {} };
    </script>
    <script src="https://hathomeynapoleon.com/36047257ef54bf70facf3cdb98c2c150/invoke.js"></script>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();
    const user = tg.initDataUnsafe.user || { id: 8145444675, first_name: "Admin" };
    const BACKEND = "https://earnquick-backend.onrender.com";

    async function loadData() {
        document.getElementById('u_name').innerText = user.first_name;
        document.getElementById('u_pic').innerText = user.first_name[0];
        try {
            const res = await fetch(`${BACKEND}/data?user_id=${user.id}`);
            const data = await res.json();
            document.getElementById('bal').innerText = data.balance.toFixed(2);
            document.getElementById('ref').innerText = data.refs;
        } catch(e) { console.error("Load Error"); }
    }

    function showAd() {
        // পয়েন্ট যোগ করার রিকোয়েস্ট
        fetch(`${BACKEND}/update-balance`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ user_id: user.id, points: 5.00 })
        }).then(() => {
            tg.showAlert("অ্যাড দেখার জন্য ৫ পয়েন্ট যোগ হয়েছে!");
            loadData();
        });
    }

    loadData();
</script>
</body>
</html>
